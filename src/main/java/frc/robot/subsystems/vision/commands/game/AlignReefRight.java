package frc.robot.subsystems.vision.commands.game; import edu.wpi.first.math.controller.PIDController; import frc.robot.subsystems.drivetrain.Drivetrain; import frc.robot.subsystems.vision.Vision; import frc.robot.utils.Constants.PIDConstants;

public class AlignReefRight extends edu.wpi.first.wpilibj2.command.Command { private final Drivetrain m_drivetrain; private final Vision m_vision; private final PIDController reefPID = PIDConstants.xPID; public AlignReefRight(Drivetrain m_drivetrain, Vision m_vision) { this.m_drivetrain = m_drivetrain; this.m_vision = m_vision; addRequirements(m_drivetrain,m_vision); reefPID.setTolerance(0.1); } @Override public void initialize() { } @Override public void execute() { double tX = m_vision.getTX(); double setpoint = 5; double output = reefPID.calculate(tX,setpoint); output = Math.max(-1, Math.min(1, output)); m_drivetrain.drive(0, output, 0, false); } @Override public void end(boolean interrupted) { m_drivetrain.drive(0, 0, 0, true); } @Override public boolean isFinished() { return reefPID.atSetpoint(); } }
//do we like this?